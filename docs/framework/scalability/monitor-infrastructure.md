---
title: Infrastructure metrics and logs
description: View platform metrics and logs to get visibility into the health and performance of services that are part of the architecture.
author: PageWriter
ms.date: 04/28/2021
ms.topic: conceptual
ms.service: architecture-center
ms.subservice: well-architected
products:
  - azure-monitor
ms.custom:
  - fasttrack-edit
---

## Analyze infrastructure metrics and logs

Performance issues can occur because of interaction between the application and other services in the architecture. For example, issues in database queries, connectivity between services, under-provisioned resources are all common causes for inefficiencies. 

The practice of continuous monitoring must include analysis of platform metric and logs to get visibility into the health and performance of services that are part of the architecture.

## Key points
> [!div class="checklist"]
> - View platform metrics to get visibility into the health and performance of Azure services.
> - Use log data to get visibility into the operations and events of the  the management plane.
> - Track events from internal dependencies.
> - Check the health of external dependencies such as an API service.

## Platform metrics

View the platform metrics that are generated by the services used in the architecture. Each Azure resource has set of metrics that's unique to the functionality of the resource. These metrics give you visibility into their health and performance.  There's no added configuration for Azure resources. You can also define custom metrics for an Azure service using the custom metrics API. 

If your application is running in Azure Virtual Machines, configure Azure Diagnostics extension to send guest OS performance metrics to Azure Monitor. Guest OS metrics include performance counters which track guest CPU percentage or memory usage, both of which are frequently used for auto-scaling or alerting.

For more information, see [Supported metrics with Azure Monitor](https://docs.microsoft.com/en-us/azure/azure-monitor/essentials/metrics-supported).

Also, use technology-specific tools for the services used in the architecture. For example, use network traffic capturing tools, such as [Azure Network Watcher](/azure/network-watcher/network-watcher-monitoring-overview).

## Platform logs
Azure provides various operational logs from the platform and the resources. These logs provide insight what events occured, what changes were made to the resource, and more. These logs are useful in tracking operations. For example, you can track  scaling events to check if autoscaling is working as expected.

**Are you collecting Azure Activity Logs within the log aggregation tool?**
***

Azure Activity Logs provide audit information about when an Azure resource is modified, such as when a virtual machine is started or stopped. This information is useful for the interpretation and troubleshooting of issues. It provides transparency around configuration changes that can be mapped to adverse performance events.

**Are logs available for critical internal dependencies?**
***
To be able to build a robust application health model, ensure there is visibility into the operational state of critical internal dependencies.

In Azure Monitor, enable Azure resource logs so that you have visibility into operations that were performed within an Azure resource. Similar to platform metrics, resource logs vary by the Azure service and resource type. 

For example, for services such as a shared NVA (network virtual appliance) or Express Route connection, monitor the network performance. Here are some tools: 
- [Network performance monitor](/azure/azure-monitor/insights/network-performance-monitor-performance-monitor)
- [Service connectivity monitor](/azure/azure-monitor/insights/network-performance-monitor-service-connectivity)  
- [ExpressRoute monitor](/azure/azure-monitor/insights/network-performance-monitor-expressroute)

Additionally, data from network traffic capturing tools, such as [Azure Network Watcher](/azure/network-watcher/network-watcher-monitoring-overview)can be helpful.

**Are critical external dependencies monitored?**
***

Monitor critical external dependencies, such as an API service, to ensure operational visibility of performance. For example, a probe could be used to measure the latency of an external API.

## Next
> [!div class="nextstepaction"] 
> [Data analysis considerations](monitor-analyze.md)

## Related links

> [Back to the main article](monitor.md)