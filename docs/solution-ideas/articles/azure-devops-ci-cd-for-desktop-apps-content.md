[!INCLUDE [header_file](../../../includes/sol-idea-header.md)]

MSIX is the most powerful packaging technology for deploying Windows applications. You can use it to distribute desktop applications that:
- Are easy to install, maintain, and automatically keep up to date. 
- Are respectful of the operating system because they provide a clean install and uninstall.
- Consume less resources because they incorporate built-in network and disk space optimizations.

You can distribute applications packaged with MSIX in many ways: 
- Via Microsoft Store
- By using a website or an internal network share 
- By using enterprise tools like Microsoft Endpoint Manager 

MSIX is also the preferred technology for deploying applications in the cloud with Azure Virtual Desktop.

Because it supports features like automatic updates, MSIX, together with Azure DevOps or GitHub, is the right technology to enable continuous integration and continuous deployment (CI/CD). With CI/CD, you can automatically push updates to your Windows desktop applications to all your customers.

## Architecture

![Diagram that shows an architecture for C I/C D for Windows desktop apps.](./media/devops-windows-architecture.png)

1. A developer changes the application code.
2. The code is committed to a source code repository, which can be hosted on Azure Repos or GitHub.
3. Continuous integration is triggered by a pipeline that runs tests, and it builds the solution. The pipeline can be hosted on Azure Pipelines or GitHub Actions.
4. The pipeline generates an unsigned MSIX package.
5. Continuous deployment is triggered by another stage of the pipeline. The MSIX package deploys on your distribution platform.
6. The MSIX package is signed with a trusted certificate, and the certificate is stored in Azure Key Vault. An MSIX package must be signed with a trusted certificate, otherwise Windows won't be able to install the application. Signing should be done during package deployment. Key Vault helps to protect your code-signing certificate and helps to ensure malicious developers can't steal it and use it to sign other applications. 
7. The signed MSIX package is deployed to a static website, hosted on Azure Storage, together with an App Installer file. This file describes the application and the update options.
8. Every time the developer commits new updates to the repository, a new MSIX package is generated and pushed to the same Azure Storage location. Because of the App Installer technology, this new deployment will trigger the automatic update process, so your customers always have the latest version of your application.

### Components

- [MSIX](https://docs.microsoft.com/windows/msix) is the most recent and powerful technology for packaging and deploying Windows desktop applications.
- [Windows Application Packaging Project](/windows/msix/desktop/desktop-to-uwp-packaging-dot-net) is a template available in Visual Studio, which enables packaging .NET desktop applications (Windows Forms, WPF, Windows Apps SDK) with MSIX. Moreover, it's based on MSBuild, which means that you just need to build your solution with Visual Studio to generate a MSIX package, making it a great fit for CI/CD scenarios. Since you don't need install any special requirement on the build machine, you can easily leverage the existing Windows agents provided by Azure DevOps and GitHub.
- [Azure Pipelines](https://azure.microsoft.com/en-us/services/devops/pipelines/), the platform provided by Azure DevOps to create pipelines which enable continuous integration and continuous deployment scenarios.
- [GitHub Actions](https://github.com/features/actions): as an alternative to Azure Pipelines, you can also use GitHub Actions to manage your CI/CD flows.
- [MSIX Packaging Extensions](/windows/msix/desktop/msix-packaging-extension?tabs=yaml) are a series of Azure DevOps extensions which make easier to integrate MSIX related tasks (like packaging or signing) in your CI/CD pipelines.
- [Nerdbank.GitVersioning](https://github.com/dotnet/Nerdbank.GitVersioning) is an open-source tool which makes easier to generate a version number every time a CI/CD pipeline is executed. Thanks to this tool, you can easily increase the version number of each MSIX package generated by your pipeline, ensuring that it gets recognized as a valid update.
- [Azure Key Vault](https://azure.microsoft.com/en-us/services/key-vault/) is the best option to safely store sensitive data, like passwords, connection strings and certificates.
- [Azure Sign Tool](https://github.com/vcsjones/AzureSignTool) is an open-source tool which enables to sign any type of binary (including MSIX packages) with a certificate stored on Azure Key Vault. Since it's a command line tool, it can be easily integrated in a CI/CD pipeline.
- [Azure Storage](https://azure.microsoft.com/en-us/product-categories/storage/) provides an easy way [to host static websites](/azure/storage/blobs/storage-blob-static-website). This is the cheapest and simplest way to host your MSIX packages.
- [App Installer](https://docs.microsoft.com/en-us/windows/msix/app-installer/app-installer-root) is the technology that enables automatic updates even when you're using an unmanaged deployment technology, like a website or a network share. Thanks to App Installer, users will have to install your application from the deployment location only once. Then, every time the CD pipeline will deploy an updated package in the same location, Windows will automatically download the update for the user.

## Next steps

Review the following resources to learn more about the implementation details to build a CI/CD pipeline for Windows desktop apps:

* [MSIX and CI/CD pipeline overview](/windows/msix/desktop/cicd-overview)
* [MSIX Packaging Extensions](/windows/msix/desktop/msix-packaging-extension?tabs=yaml)
* [Configure CI/CD pipeline with YAML](/windows/msix/desktop/azure-dev-ops)
* [Sign with Azure Key Vault in a CI/CD pipeline](/windows/msix/desktop/cicd-keyvault)

## Related resources

* [Design a CI/CD pipeline using Azure DevOps](azure/architecture/example-scenario/apps/devops-dotnet-webapp)
* [Continuous integration and deployment for desktop apps with GitHub Actions](https://devblogs.microsoft.com/dotnet/continuous-integration-and-deployment-for-desktop-apps-with-github-actions/)