--
title: Azure IoT Edge Vision
titleSuffix: Azure Architecture Center
description: 
author: MSKeith
ms.date: 09/30/2020
ms.topic: guide
ms.service: architecture-center
ms.author: kehilsch
ms.category:
  - fcp
ms.subservice: reference-architecture
---

# Image storage and management

Storage and management of the images involved in a computer vision application is a critical function.  Some of the key considerations for managing those images are:

* Ability to store all raw images during training with ease of retrieval for labeling
* Faster storage medium to avoid pipeline bottleneck and loss
* Storage on the edge as well as in the cloud, as labeling activity can be performed in both
* Categorization of images for easy retrieval
* Naming and tagging images to link it with inferred metadata

The combination of Azure Blob Storage, Azure IoT Hub, and Azure IoT Edge allow several potential options for the storage of image data:

* Use of the [Azure IoT Edge Blob Storage module](https://docs.microsoft.com/en-us/azure/iot-edge/how-to-store-data-blob), which will automatically sync images to Azure Blob based on policy
* Store images to local host file system and upload to Azure blob service using a custom module
* Use of local database to store images, which then can be synced to cloud database

We believe that the IoT Edge Blob Storage module is the most powerful and straightforward solution and is our preferred approach. A typical workflow for this might be:

1. Raw messages post ingestion will be stored locally on the Edge Blob Module, with time stamp and sequence number to uniquely identify the image files
2. Policy can be set on the Edge Blob Module for automatic upload to Azure Blob with ordering
3. To conserve space on the Edge device, auto delete after certain time can be configured along with retain while uploading option to ensure all images get synced to the cloud
4. Local categorization or domain and labeling can be implemented using module that can read these images into UX.  The label data will be associated to the image URI along with the coordinates and category.
5. As Label data needs to be saved, a local database is preferred to store this metadata as it will allow easy lookup for the UX and can be synced to cloud via telemetry messages.
6. During scoring run, the model will detect matching patterns and generate events of interest. This metadata will be sent to cloud via telemetry referring the image URI and optionally stored in local database for edge UX.  The images will continue to be stored to Edge Blob and synced with Azure Blob

## Next steps

How you respond to alerts generated by the AI model is crucial. Learn more about this in [Alerts persistence in IoT Edge Vision](iot-edge-alerts.md).